<UserControl x:Class="SaveTracker.SaveTrackerSettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:"
             mc:Ignorable="d"
             d:DesignHeight="1520" d:DesignWidth="700"
             Background="#1E1E1E">

    <ScrollViewer VerticalScrollBarVisibility="Auto" Background="Transparent">
        <StackPanel Margin="20">
            
            <!-- Header -->
            <Border Background="#0E639C" CornerRadius="6" Margin="0,0,0,20">
                <StackPanel Margin="20,15">
                    <TextBlock Text="Save Tracker" 
                              FontSize="26" 
                              FontWeight="Bold" 
                              Foreground="#FFFFFF" 
                              Margin="0,0,0,5"/>
                    <TextBlock Text="Manage game save files and cloud synchronization" 
                              FontSize="14" 
                              Foreground="#E6F3FF"/>
                </StackPanel>
            </Border>
            
             <!--Debug Section -->
            <GroupBox Header="Debug" Visibility="Collapsed"
                     Margin="0,0,0,20">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontSize="16" 
                                  FontWeight="SemiBold" 
                                  Foreground="#4FC3F7"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                 <StackPanel Margin="15">
                    <!-- Console Setting -->
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <Button Name="Testbtn" Click="TESTBTN_OnClick">TEST</Button>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </GroupBox>
        <Border Background="#3C3C3C" 
               CornerRadius="4" 
               BorderBrush="#555555" 
               BorderThickness="1" 
               Margin="0,0,0,15" 
               Padding="15">
            <StackPanel>
              
                <TextBlock Text="Game" 
                           Name="GameNameTxt"
                           FontSize="19" 
                           FontWeight="Bold" 
                           FontStyle="Italic"
                           Foreground="#FFFFFF" 
                           TextAlignment="Center"/>

            </StackPanel>
        </Border>

          <!-- Enhanced Game Cloud Overview Section - Playnite Plugin Compatible -->
<GroupBox Header="Game Cloud Overview" 
         Margin="0,0,0,20">
    <GroupBox.HeaderTemplate>
        <DataTemplate>
            <DockPanel>
                <TextBlock Text="☁ " FontSize="16" VerticalAlignment="Center" Foreground="#4FC3F7"/>
                <TextBlock Text="{Binding}" FontSize="16" FontWeight="SemiBold" VerticalAlignment="Center" Foreground="#4FC3F7"/>
                <Button Name="RefreshBtn" 
                        Content="🔄" 
                        Width="24" Height="24"
                        HorizontalAlignment="Right"
                        Margin="10,0,0,0"
                        ToolTip="Refresh Cloud Data"
                        Background="Transparent"
                        BorderThickness="0"
                        Cursor="Hand"/>
            </DockPanel>
        </DataTemplate>
    </GroupBox.HeaderTemplate>
    
    <StackPanel Margin="10">
        <!-- Sync Status Section -->
        <Border Background="#3C3C3C" 
               CornerRadius="4" 
               BorderBrush="#555555" 
               BorderThickness="1" 
               Margin="0,0,0,15" 
               Padding="15">
            <StackPanel>
                <!-- Stats Grid -->
                <UniformGrid Columns="3" Rows="2">
                    <!-- Last Sync -->
                    <StackPanel Margin="0,0,10,15">
                        <TextBlock Text="Last Cloud Sync" 
                                  FontSize="11" 
                                  FontWeight="Medium"
                                  Foreground="#CCCCCC"
                                  Opacity="0.9"
                                  Margin="0,0,0,4"/>
                        <TextBlock Name="LastSyncTxt"
                                  Text="Never" 
                                  FontSize="13" 
                                  FontWeight="SemiBold"
                                  Foreground="#FFFFFF"/>
                    </StackPanel>

                    <!-- Files Count -->
                    <StackPanel Margin="0,0,10,15">
                        <TextBlock Text="Files Tracked" 
                                  FontSize="11" 
                                  FontWeight="Medium"
                                  Foreground="#CCCCCC"
                                  Opacity="0.9"
                                  Margin="0,0,0,4"/>
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Name="FilesCountTxt"
                                      Text="0" 
                                      FontSize="13" 
                                      FontWeight="SemiBold"
                                      Foreground="#FFFFFF"/>
                            <TextBlock Text=" files" 
                                      FontSize="11" 
                                      Foreground="#CCCCCC"
                                      Opacity="0.9"
                                      VerticalAlignment="Bottom"
                                      Margin="4,0,0,0"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Total Size -->
                    <StackPanel Margin="0,0,0,15">
                        <TextBlock Text="Total Size" 
                                  FontSize="11" 
                                  FontWeight="Medium"
                                  Foreground="#CCCCCC"
                                  Opacity="0.9"
                                  Margin="0,0,0,4"/>
                        <TextBlock Name="TotalSizeTxt"
                                  Text="0 KB" 
                                  FontSize="13" 
                                  FontWeight="SemiBold"
                                  Foreground="#FFFFFF"/>
                    </StackPanel>

                    <!-- Newest Save -->
                    <StackPanel Margin="0,0,10,0">
                        <TextBlock Text="Newest Save" 
                                  FontSize="11" 
                                  FontWeight="Medium"
                                  Foreground="#CCCCCC"
                                  Opacity="0.9"
                                  Margin="0,0,0,4"/>
                        <TextBlock Name="NewestSaveTxt"
                                  Text="None" 
                                  FontSize="13" 
                                  FontWeight="SemiBold"
                                  Foreground="#FFFFFF"/>
                    </StackPanel>

                    <!-- Oldest Save -->
                    <StackPanel Margin="0,0,10,0">
                        <TextBlock Text="Oldest Save" 
                                  FontSize="11" 
                                  FontWeight="Medium"
                                  Foreground="#CCCCCC"
                                  Opacity="0.9"
                                  Margin="0,0,0,4"/>
                        <TextBlock Name="OldestSaveTxt"
                                  Text="None" 
                                  FontSize="13" 
                                  FontWeight="SemiBold"
                                  Foreground="#FFFFFF"/>
                    </StackPanel>
                </UniformGrid>
                
                <!-- Header with Status Indicator -->
                <DockPanel Margin="0,0,0,15">
                    <Button Name="SyncNowBtn"
                            Content="SYNC NOW"
                            HorizontalAlignment="Right"
                            Padding="12,6"
                            MinWidth="80"
                            Click="UploadButton_Click"/>
                </DockPanel>
            </StackPanel>
        </Border>

        <!-- Tracking Settings Section -->
        <Border Background="#3C3C3C" 
               CornerRadius="4" 
               BorderBrush="#555555" 
               BorderThickness="1" 
               Margin="0,0,0,15" 
               Padding="15">
            <StackPanel>
                <TextBlock Text="Tracking Settings" 
                          FontSize="14" 
                          FontWeight="SemiBold"
                          Foreground="#FFFFFF"
                          Margin="0,0,0,15"/>
                
                <UniformGrid Columns="3">
                    <CheckBox Name="CanTrackBox" 
                             Content="Enable Tracking" 
                             Foreground="#FFFFFF"
                             IsChecked="True"
                             Margin="0,0,10,0"
                             Click="CanTrackBOX_OnClick"/>
                    
                    <CheckBox Name="CanUploadBox" 
                             Content="Auto Sync" 
                             Foreground="#FFFFFF"
                             IsChecked="True"
                             Margin="0,0,10,0"
                             Click="CanUploadBOX_OnClick"/>
                    
                    <DockPanel>
                        <ComboBox Name="PerGameProvider" 
                                  SelectionChanged="PerGameProvider_OnSelectionChanged" 
                                  SelectedIndex="0" 
                                  Margin="10,0,0,0" 
                                  Height="30">
                            <ComboBoxItem Content="Global"                  Tag="{x:Static local:CloudProvider.Global}" />
                            <ComboBoxItem Content="Google Drive (15GB Free)" Tag="{x:Static local:CloudProvider.GoogleDrive}" />
                            <ComboBoxItem Content="OneDrive (5GB Free)"      Tag="{x:Static local:CloudProvider.OneDrive}" />
                            <ComboBoxItem Content="Dropbox (2GB Free)"       Tag="{x:Static local:CloudProvider.Dropbox}" />
                            <ComboBoxItem Content="pCloud (10GB Free)"       Tag="{x:Static local:CloudProvider.Pcloud}" />
                            <ComboBoxItem Content="Box (10GB Free)"          Tag="{x:Static local:CloudProvider.Box}" />
                            <ComboBoxItem Content="Amazon Drive (Premium)"   Tag="{x:Static local:CloudProvider.AmazonDrive}" />
                            <ComboBoxItem Content="Yandex (10GB Free)"       Tag="{x:Static local:CloudProvider.Yandex}" />
                            <ComboBoxItem Content="Put.io (Premium)"         Tag="{x:Static local:CloudProvider.PutIo}" />
                            <ComboBoxItem Content="HiDrive (5GB Free)"       Tag="{x:Static local:CloudProvider.HiDrive}" />
                            <ComboBoxItem Content="Uptobox (Premium)"        Tag="{x:Static local:CloudProvider.Uptobox}" />
                        </ComboBox>

                        <TextBlock Text="Provider Selector" 
                                   Foreground="#FFFFFF"
                                   Margin="10,0,0,0"
                                   VerticalAlignment="Center"/>
                    </DockPanel>
                </UniformGrid>
            </StackPanel>
        </Border>

        <!-- Files Management Section -->
        <Border Name="MainBoarder" 
               Background="#3C3C3C" 
               CornerRadius="4" 
               BorderBrush="#555555" 
               BorderThickness="1" 
               Margin="0,0,0,15" 
               Padding="15"
               Visibility="Visible">
            <StackPanel>
                <!-- Files and Blacklist Grid -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Tracked Files Section -->
                    <Border Grid.Column="0" 
                           Background="#2A2A2A"
                           BorderBrush="#555555"
                           BorderThickness="1" 
                           CornerRadius="4" 
                           Margin="0,0,5,0"
                           Padding="10">
                        <StackPanel>
                            <DockPanel Margin="0,0,0,10">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="📁" FontSize="14" VerticalAlignment="Center"/>
                                    <TextBlock Text="Tracked Files" 
                                              FontWeight="SemiBold" 
                                              FontSize="13"
                                              Foreground="#FFFFFF"
                                              Margin="5,0,0,0"
                                              VerticalAlignment="Center"/>
                                </StackPanel>
                                
                                <TextBlock Name="TrackedCountTxt"
                                          Text="(0)" 
                                          FontSize="11"
                                          Foreground="#CCCCCC"
                                          Opacity="0.9"
                                          HorizontalAlignment="Right"
                                          VerticalAlignment="Center"/>
                            </DockPanel>
                            
                            <ListBox Name="FilesList" 
                                    Height="200"
                                    Background="#1E1E1E"
                                    BorderBrush="#555555"
                                    ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                                    BorderThickness="1">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem">
                                        <Setter Property="Padding" Value="5"/>
                                        <Setter Property="Margin" Value="0,1"/>
                                        <Setter Property="Foreground" Value="#FFFFFF"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                            </ListBox>
                        </StackPanel>
                    </Border>

                    <!-- Separator -->
                    <Border Grid.Column="1" 
                           Width="2" 
                           Background="#555555"
                           Opacity="0.6"
                           CornerRadius="1"
                           Margin="5,0"/>

                    <!-- Blacklisted Files Section -->
                    <Border Grid.Column="2" 
                           Background="#2A2A2A"
                           BorderBrush="#555555"
                           BorderThickness="1" 
                           CornerRadius="4" 
                           Margin="5,0,0,0"
                           Padding="10">
                        <StackPanel>
                            <DockPanel Margin="0,0,0,10">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="🚫" FontSize="14" VerticalAlignment="Center"/>
                                    <TextBlock Text="Blacklisted Files" 
                                              FontWeight="SemiBold" 
                                              FontSize="13"
                                              Foreground="#FFFFFF"
                                              Margin="5,0,0,0"
                                              VerticalAlignment="Center"/>
                                </StackPanel>
                                
                                <TextBlock Name="BlacklistedCountTxt"
                                          Text="(0)" 
                                          FontSize="11"
                                          Foreground="#CCCCCC"
                                          Opacity="0.9"
                                          HorizontalAlignment="Right"
                                          VerticalAlignment="Center"/>
                            </DockPanel>
                            
                            <ListBox Name="BlackList" 
                                    Height="200"
                                    Background="#1E1E1E"
                                    BorderBrush="#555555"
                                    ScrollViewer.HorizontalScrollBarVisibility="Auto"
                                    ScrollViewer.VerticalScrollBarVisibility="Auto"
                                    BorderThickness="1">
                                <ListBox.ItemContainerStyle>
                                    <Style TargetType="ListBoxItem">
                                        <Setter Property="Padding" Value="5"/>
                                        <Setter Property="Margin" Value="0,1"/>
                                        <Setter Property="Foreground" Value="#FFFFFF"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                                    </Style>
                                </ListBox.ItemContainerStyle>
                            </ListBox>
                        </StackPanel>
                    </Border>
                </Grid>
                
                <!-- Quick Actions -->
                <DockPanel Margin="0,15,0,0">
                    <TextBlock Text="💡 Tip: Double-click files to move between tracked and blacklisted" 
                              FontSize="11" 
                              Foreground="#CCCCCC"
                              Opacity="0.8"
                              VerticalAlignment="Center"/>
                </DockPanel>
            </StackPanel>
        </Border>

        <!-- Progress Indicator for Sync Operations -->
        <Border Name="SyncProgressCard" 
               Background="#3C3C3C" 
               CornerRadius="4" 
               BorderBrush="#555555" 
               BorderThickness="1" 
               Padding="15"
               Visibility="Collapsed">
            <StackPanel>
                <DockPanel Margin="0,0,0,10">
                    <TextBlock Text="🔄 Syncing..." 
                              FontSize="14" 
                              FontWeight="SemiBold"
                              Foreground="#FFFFFF"
                              VerticalAlignment="Center"/>
                    
                    <Button Name="CancelSyncBtn"
                           Content="Cancel"
                           HorizontalAlignment="Right"
                           Padding="8,4"/>
                </DockPanel>
                
                <ProgressBar Name="SyncProgressBar"
                            IsIndeterminate="True"
                            Height="6"
                            Margin="0,0,0,10"/>
                
                <TextBlock Name="SyncStatusText"
                          Text="Connecting to cloud service..."
                          FontSize="12"
                          Foreground="#CCCCCC"
                          Opacity="0.9"/>
            </StackPanel>
        </Border>
    </StackPanel>
</GroupBox>
            
             <!-- Settings Section -->
            <GroupBox Header="Provider Settings" 
                     Margin="0,0,0,20">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontSize="16" 
                                  FontWeight="SemiBold" 
                                  Foreground="#4FC3F7"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <StackPanel Margin="15">
                    <!-- Console Setting -->
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <TextBlock Text="Provider Selector: " 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                                <ComboBox SelectedIndex="{Binding Settings.SelectedProviderIndex}" Margin="10,0,0,0" Height="30">
                                    <ComboBoxItem Content="Google Drive (15GB Free)"/>        <!-- 0 -->
                                    <ComboBoxItem Content="OneDrive (5GB Free)"/>             <!-- 1 -->
                                    <ComboBoxItem Content="Dropbox (2GB Free)"/>              <!-- 2 -->
                                    <ComboBoxItem Content="pCloud (10GB Free)"/>              <!-- 3 -->
                                    <ComboBoxItem Content="Box (10GB Free)"/>                 <!-- 5 -->
                                    <ComboBoxItem Content="Amazon Drive (Premium)"/>          <!-- 16 -->
                                    <ComboBoxItem Content="Yandex (10GB Free)"/>              <!-- 17 -->
                                    <ComboBoxItem Content="Put.io (Premium)"/>                <!-- 19 -->
                                    <ComboBoxItem Content="HiDrive (5GB Free)"/>              <!-- 21 -->
                                    <ComboBoxItem Content="Uptobox (Premium)"/>               <!-- 22 -->
                                </ComboBox>

                               
                            </DockPanel>
                            <TextBlock Text="Choose your preferred cloud storage provider. This selection will be used to sync or back up your game save data to the selected service."
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>

                </StackPanel>
            </GroupBox>

            <!-- Settings Section -->
            <GroupBox Header="General Settings" 
                     Margin="0,0,0,20">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontSize="16" 
                                  FontWeight="SemiBold" 
                                  Foreground="#4FC3F7"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <StackPanel Margin="15">
                    <!-- Console Setting -->
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="TrackFilesBox" 
                                          IsChecked="{Binding Settings.TrackFiles}"
                                          VerticalAlignment="Center"
                                          Foreground="White"
                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Track Files" 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Track files created by the game process (Note: Required for cloud save support)" 
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="Track3RdBox" 
                                          IsChecked="{Binding Settings.Track3RdParty}"
                                          VerticalAlignment="Center"
                                          Foreground="White"
                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Track 3rd party games" 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Track saves even if game is launched via 3rd party launcher *(steam, epic, etc)" 
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="AutoSyncBox" 
                                          IsChecked="{Binding Settings.AutoSyncOption}"
                                          VerticalAlignment="Center"
                                          Foreground="White"

                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Auto Sync" 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Automatically sync game save files after the game closes" 
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="CheckSaves" 
                                          IsChecked="{Binding Settings.CheckRemoteSave}"
                                          VerticalAlignment="Center"
                                          Foreground="White"

                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Detect cloud saves when adding new games"
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Automatically scan cloud storage for existing save data when new games are detected&#x0A;(Only occurs when clicking the side panel item)" 
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="ShowConsoleBox" 
                                          IsChecked="{Binding Settings.ShowConsoleOption}"
                                          VerticalAlignment="Center"
                                          Foreground="White"

                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Show Debug Console" 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Enable debug console output for monitoring and troubleshooting save operations" 
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1" Visibility="Collapsed">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="EncryptConfigsBox" 
                                          IsChecked="{Binding Settings.EncryptConfigs}"
                                          VerticalAlignment="Center"
                                          Foreground="White"

                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Config Encryption" 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Encrypt Rclone Authentication Files" 
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="ShowUploadBox" 
                                          IsChecked="{Binding Settings.ShowUpload}"
                                          VerticalAlignment="Center"
                                          Foreground="White"

                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Show Upload Window" 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Show upload window to track progress" 
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border> <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="ShowDownloadBox" 
                                          IsChecked="{Binding Settings.ShowDownload}"
                                          VerticalAlignment="Center"
                                          Foreground="White"

                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Show Download Window" 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Show download window to track progress"
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </GroupBox>
            
             <!-- Tracker Settings Section -->
            <GroupBox Header="Tracker Settings" 
                     Margin="0,0,0,20">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontSize="16" 
                                  FontWeight="SemiBold" 
                                  Foreground="#4FC3F7"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <StackPanel Margin="15">
                    <!-- Console Setting -->
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="TrackWritesBox" 
                                          IsChecked="{Binding Settings.TrackWrites}"
                                          VerticalAlignment="Center"
                                          Foreground="White"
                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Track Write " 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Track Write Calls this is most recommend, as it only track only when game saves"
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                    <Border Background="#3C3C3C" CornerRadius="4" BorderBrush="#555555" BorderThickness="1">
                        <StackPanel Margin="15">
                            <DockPanel>
                                <CheckBox Name="TrackReadsBox" 
                                          IsChecked="{Binding Settings.TrackReads}"
                                          VerticalAlignment="Center"
                                          Foreground="White"
                                          DockPanel.Dock="Left"/>
                                <TextBlock Text="Track Read " 
                                           FontSize="14" 
                                           FontWeight="Medium"
                                           Foreground="#FFFFFF"
                                           Margin="10,0,0,0"
                                           VerticalAlignment="Center"/>
                            </DockPanel>
                            <TextBlock Text="Track read operations (Not recommended): Parses large amounts of data, which may impact performance in some situations." 
                                       FontSize="12"
                                       Foreground="#CCCCCC"
                                       Margin="25,8,0,0"
                                       
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </GroupBox>

            
            <!-- Actions Section -->
            <GroupBox Header="Save Management" 
                     Margin="0,0,0,20">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontSize="16" 
                                  FontWeight="SemiBold" 
                                  Foreground="#4FC3F7"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <Grid>
                    <Grid Margin="15">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Upload Section -->
                    <Border Grid.Column="0" 
                            Background="#1A365D" 
                            CornerRadius="6" 
                            BorderBrush="#2563EB" 
                            BorderThickness="1">
                        <StackPanel Margin="15">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <TextBlock Text="☁" FontSize="20" Foreground="#4FC3F7" VerticalAlignment="Center"/>
                                <TextBlock Text="Upload Saves" 
                                          FontSize="16" 
                                          FontWeight="SemiBold" 
                                          Foreground="#FFFFFF"
                                          Margin="10,0,0,0"
                                          VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="Backup your game saves to cloud storage for safekeeping and cross-device access."
                                      FontSize="12"
                                      Foreground="#B3D9FF"
                                      TextWrapping="Wrap"
                                      Margin="0,0,0,15"/>
                            <Button Name="UploadButton"
                                   Content="Upload Now"
                                   Height="35"
                                   Click="UploadButton_Click"/>
                        </StackPanel>
                    </Border>

                    <!-- Download Section -->
                    <Border Grid.Column="2" 
                            Background="#7C2D12" 
                            CornerRadius="6" 
                            BorderBrush="#EA580C" 
                            BorderThickness="1">
                        <StackPanel Margin="15">
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                <TextBlock Text="⬇" FontSize="20" Foreground="#FFAB70" VerticalAlignment="Center"/>
                                <TextBlock Text="Download Saves" 
                                          FontSize="16" 
                                          FontWeight="SemiBold" 
                                          Foreground="#FFFFFF"
                                          Margin="10,0,0,0"
                                          VerticalAlignment="Center"/>
                            </StackPanel>
                            <TextBlock Text="Restore your game saves from cloud storage to continue your progress on this device."
                                      FontSize="12"
                                      Foreground="#FFCCAA"
                                      TextWrapping="Wrap"
                                      Margin="0,0,0,15"/>
                            <Button Name="DownloadButton"
                                   Content="Download Now"
                                   Height="35"
                                   Click="DownloadButton_Click"/>
                        </StackPanel>
                    </Border>
                    
                </Grid>

                </Grid>
            </GroupBox>

            <!-- Save Section -->
            <GroupBox Header="Save" 
                       Margin="0,0,0,20">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                   FontSize="16" 
                                   FontWeight="SemiBold" 
                                   Foreground="#4FC3F7"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <Border Background="#2A2A2A" CornerRadius="4" BorderBrush="#555555" BorderThickness="1" Margin="15">
                    <StackPanel Margin="15">
                        <DockPanel Margin="0,0,0,8">
                            
                            <TextBlock Name="Save"
                                       Text="Save Settings"
                                       FontSize="14"
                                       Foreground="#FFFFFF"
                                       Margin="10,0,0,0"
                                       VerticalAlignment="Center"/>
                            <Button Name="SaveBtn"
                                       Content="Save Settings"
                                       Click="SaveBTN_OnClick"
                                       FontSize="14"
                                       Foreground="#FFFFFF"
                                       Margin="10,0,0,0"
                                       VerticalAlignment="Center"/>
                        </DockPanel>
                        
                    </StackPanel>
                </Border>
            </GroupBox>

            <!-- Info Section -->
            <Border Background="#2D2A1F" 
                    CornerRadius="6" 
                    BorderBrush="#8B7355" 
                    BorderThickness="1">
                <StackPanel Margin="20,15">
                    <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                        <TextBlock Text="💡" FontSize="16" VerticalAlignment="Center"/>
                        <TextBlock Text="How it works" 
                                  FontSize="14" 
                                  FontWeight="SemiBold" 
                                  Foreground="#F4E4BC"
                                  Margin="10,0,0,0"
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                    <TextBlock Text="Save Tracker automatically monitors your games and detects save file changes. When you stop playing, it can upload your saves to cloud storage. Use the download feature to restore saves on other devices."
                              FontSize="12"
                              Foreground="#E6D7B8"
                              TextWrapping="Wrap"
                              LineHeight="18"/>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>